<ion-content [fullscreen]="true" scroll-y="false">
  <div class="header">
    <p class="title">AI Assistant</p>
  </div>

  <div class="aiChatContainer">
    <div class="messageContainer">
      <ng-container *ngIf="GPTMessages$ | async as vectorMessages">
        <div class="messageBubble" *ngFor="let message of vectorMessages">
            <p class="messageText">{{ message }}</p>
        </div>
        <div *ngIf="isLoadingAIMessage"  class="messageBubble">
            <ion-spinner class="spinner" *ngIf="isLoadingAIMessage" name="crescent"></ion-spinner>
        </div>
        </ng-container>
    </div>

    <div class="textAreaContainer">
        <div class="quickSelections">
            <ion-icon id="quickSelect" name="add-circle-outline"></ion-icon>
            <ion-popover trigger="quickSelect" side="top" alignment="center">
                <ng-template>
                  <ion-content class="ion-padding">
                    <ion-list>
                      <ion-item (click)="selector(question)" style="margin-bottom: 2rem; font-size: 14px;" *ngFor="let question of quickSelect">
                        {{ question }}
                      </ion-item>
                    </ion-list>
                  </ion-content>
                </ng-template>
              </ion-popover>
        </div>

        <span style="width: 100%;">
            <input placeholder="Ask Question..." class="textarea" id="float-input" rows="5" cols="30" [(ngModel)]="userMessage"/>
        </span>
        <img (click)="HNSWLibVector()" style="width: 2rem;" src="assets/send.svg"/>

    </div>
  </div>
</ion-content>
